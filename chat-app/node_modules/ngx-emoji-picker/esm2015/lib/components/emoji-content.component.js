/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, ViewChild, forwardRef, Output, EventEmitter } from '@angular/core';
import { EMOJIS } from '../misc/emojis.data';
import { EmojiListComponent } from './emoji-list.component';
export class EmojiContentComponent {
    constructor() {
        this.emojiSelectionEmitter = new EventEmitter();
        this._emojis = EMOJIS;
        this.emojis = this._emojis.slice();
        this.emojisCategories = this._emojis.map(category => Object.assign({}, category, { emojis: [] }));
    }
    /**
     * @param {?} value
     * @return {?}
     */
    searchHandler(value) {
        /** @type {?} */
        let filteredEmojis = this.emojisCategories.map(category => Object.assign({}, category, { emojis: [] }));
        value = value.replace(/-/g, '').toLowerCase();
        Object.keys(this._emojis).forEach(i => {
            /** @type {?} */
            const category = this._emojis[i];
            category.emojis.forEach(emoji => {
                if (emoji[1].indexOf(value) !== -1) {
                    filteredEmojis[i].emojis.push(emoji);
                }
            });
        });
        this.emojis = filteredEmojis;
    }
    /**
     * @param {?} event
     * @return {?}
     */
    categorySelectionHandler(event) {
        this.emojiListComponent.selectCategory(event);
    }
}
EmojiContentComponent.decorators = [
    { type: Component, args: [{
                selector: 'emoji-content',
                template: `
  <emoji-header 
    [emojisCategories]="emojisCategories"
    (categorySelection)="categorySelectionHandler($event)"
    (search)="searchHandler($event)"></emoji-header>
  <emoji-list [emojis]="emojis" (emoji-selection)="emojiSelectionEmitter.emit($event)"></emoji-list>
  <emoji-footer></emoji-footer>
  `,
                styles: [":host{display:flex;flex-direction:column;width:100vw;height:314px;border-radius:3px;background:#fff;text-align:left;box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12)}@media (min-width:258px){:host{width:258px}}emoji-list{flex-grow:1}"]
            }] }
];
/** @nocollapse */
EmojiContentComponent.ctorParameters = () => [];
EmojiContentComponent.propDecorators = {
    emojiListComponent: [{ type: ViewChild, args: [forwardRef(() => EmojiListComponent),] }],
    emojiSelectionEmitter: [{ type: Output, args: ['emoji-selection',] }]
};
if (false) {
    /** @type {?} */
    EmojiContentComponent.prototype.emojiListComponent;
    /** @type {?} */
    EmojiContentComponent.prototype.emojiSelectionEmitter;
    /**
     * @type {?}
     * @private
     */
    EmojiContentComponent.prototype._emojis;
    /** @type {?} */
    EmojiContentComponent.prototype.emojis;
    /** @type {?} */
    EmojiContentComponent.prototype.emojisCategories;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW1vamktY29udGVudC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZ3gtZW1vamktcGlja2VyLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvZW1vamktY29udGVudC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3ZGLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUM3QyxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQWU1RCxNQUFNLE9BQU8scUJBQXFCO0lBUWhDO1FBTjJCLDBCQUFxQixHQUFHLElBQUksWUFBWSxFQUFPLENBQUM7UUFFbkUsWUFBTyxHQUFHLE1BQU0sQ0FBQztRQUN6QixXQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUM5QixxQkFBZ0IsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLFFBQVEsRUFBRSxFQUFFLE1BQU0sRUFBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFFL0UsQ0FBQzs7Ozs7SUFFaEIsYUFBYSxDQUFDLEtBQUs7O1lBQ2IsY0FBYyxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxRQUFRLEVBQUUsRUFBRSxNQUFNLEVBQUcsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUV4RyxLQUFLLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7UUFFOUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFOztrQkFDOUIsUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1lBRWhDLFFBQVEsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO2dCQUM5QixJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUU7b0JBQ2xDLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO2lCQUN0QztZQUNILENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsTUFBTSxHQUFHLGNBQWMsQ0FBQztJQUMvQixDQUFDOzs7OztJQUVELHdCQUF3QixDQUFDLEtBQUs7UUFDNUIsSUFBSSxDQUFDLGtCQUFrQixDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNoRCxDQUFDOzs7WUEzQ0YsU0FBUyxTQUFDO2dCQUNULFFBQVEsRUFBRSxlQUFlO2dCQUV6QixRQUFRLEVBQUU7Ozs7Ozs7R0FPVDs7YUFDRjs7Ozs7aUNBR0UsU0FBUyxTQUFDLFVBQVUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxrQkFBa0IsQ0FBQztvQ0FDOUMsTUFBTSxTQUFDLGlCQUFpQjs7OztJQUR6QixtREFBd0Y7O0lBQ3hGLHNEQUEyRTs7Ozs7SUFFM0Usd0NBQXlCOztJQUN6Qix1Q0FBOEI7O0lBQzlCLGlEQUE4RiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgVmlld0NoaWxkLCBmb3J3YXJkUmVmLCBPdXRwdXQsIEV2ZW50RW1pdHRlciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRU1PSklTIH0gZnJvbSAnLi4vbWlzYy9lbW9qaXMuZGF0YSc7XG5pbXBvcnQgeyBFbW9qaUxpc3RDb21wb25lbnQgfSBmcm9tICcuL2Vtb2ppLWxpc3QuY29tcG9uZW50JztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnZW1vamktY29udGVudCcsXG4gIHN0eWxlVXJsczogWycuLi9zdHlsZXMvZW1vamktY29udGVudC5zY3NzJ10sXG4gIHRlbXBsYXRlOiBgXG4gIDxlbW9qaS1oZWFkZXIgXG4gICAgW2Vtb2ppc0NhdGVnb3JpZXNdPVwiZW1vamlzQ2F0ZWdvcmllc1wiXG4gICAgKGNhdGVnb3J5U2VsZWN0aW9uKT1cImNhdGVnb3J5U2VsZWN0aW9uSGFuZGxlcigkZXZlbnQpXCJcbiAgICAoc2VhcmNoKT1cInNlYXJjaEhhbmRsZXIoJGV2ZW50KVwiPjwvZW1vamktaGVhZGVyPlxuICA8ZW1vamktbGlzdCBbZW1vamlzXT1cImVtb2ppc1wiIChlbW9qaS1zZWxlY3Rpb24pPVwiZW1vamlTZWxlY3Rpb25FbWl0dGVyLmVtaXQoJGV2ZW50KVwiPjwvZW1vamktbGlzdD5cbiAgPGVtb2ppLWZvb3Rlcj48L2Vtb2ppLWZvb3Rlcj5cbiAgYFxufSlcblxuZXhwb3J0IGNsYXNzIEVtb2ppQ29udGVudENvbXBvbmVudCB7XG4gIEBWaWV3Q2hpbGQoZm9yd2FyZFJlZigoKSA9PiBFbW9qaUxpc3RDb21wb25lbnQpKSBlbW9qaUxpc3RDb21wb25lbnQ6IEVtb2ppTGlzdENvbXBvbmVudDtcbiAgQE91dHB1dCgnZW1vamktc2VsZWN0aW9uJykgZW1vamlTZWxlY3Rpb25FbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgcHJpdmF0ZSBfZW1vamlzID0gRU1PSklTO1xuICBlbW9qaXMgPSB0aGlzLl9lbW9qaXMuc2xpY2UoKTtcbiAgZW1vamlzQ2F0ZWdvcmllcyA9IHRoaXMuX2Vtb2ppcy5tYXAoY2F0ZWdvcnkgPT4gT2JqZWN0LmFzc2lnbih7fSwgY2F0ZWdvcnksIHsgZW1vamlzIDogW10gfSkpO1xuXG4gIGNvbnN0cnVjdG9yKCkge31cblxuICBzZWFyY2hIYW5kbGVyKHZhbHVlKSB7XG4gICAgbGV0IGZpbHRlcmVkRW1vamlzID0gdGhpcy5lbW9qaXNDYXRlZ29yaWVzLm1hcChjYXRlZ29yeSA9PiBPYmplY3QuYXNzaWduKHt9LCBjYXRlZ29yeSwgeyBlbW9qaXMgOiBbXSB9KSk7XG4gICAgXG4gICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC8tL2csICcnKS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgT2JqZWN0LmtleXModGhpcy5fZW1vamlzKS5mb3JFYWNoKGkgPT4ge1xuICAgICAgY29uc3QgY2F0ZWdvcnkgPSB0aGlzLl9lbW9qaXNbaV07XG5cbiAgICAgIGNhdGVnb3J5LmVtb2ppcy5mb3JFYWNoKGVtb2ppID0+IHtcbiAgICAgICAgaWYgKGVtb2ppWzFdLmluZGV4T2YodmFsdWUpICE9PSAtMSkge1xuICAgICAgICAgIGZpbHRlcmVkRW1vamlzW2ldLmVtb2ppcy5wdXNoKGVtb2ppKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVtb2ppcyA9IGZpbHRlcmVkRW1vamlzO1xuICB9XG5cbiAgY2F0ZWdvcnlTZWxlY3Rpb25IYW5kbGVyKGV2ZW50KSB7XG4gICAgdGhpcy5lbW9qaUxpc3RDb21wb25lbnQuc2VsZWN0Q2F0ZWdvcnkoZXZlbnQpO1xuICB9XG59XG4iXX0=